name: Node.js CI
on:
#   push:
#     branches: [ master ]
#   pull_request:
#     branches: [ master ]
  schedule:
    - cron: '0 * * * *'

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [15.x]
        # See supported Node.js release schedule at https://nodejs.org/en/about/releases/

    steps:
    - uses: actions/checkout@v2
    - name: Use Node.js ${{ matrix.node-version }}
      uses: actions/setup-node@v1
      with:
        node-version: ${{ matrix.node-version }}
    - run: npm ci
    - run: npm start ${{ secrets.YT_KEY }}
  
    - uses: EndBug/add-and-commit@v7
    - uses: GitStartHQ/actions@v0.0.6
      with:
        upstream: 'https://github.com/kiawildberger/fantanosort'
        add: 'result.json'
        author_name: kiawildberger
        author_email: kiawildberger@gmail.com
        message: 'update data from action'
        push: origin master # do it work? is it necessary? we will see
